# AgentFlow API Production Environment Configuration Template
# Copy this file to .env.production and fill in the actual values

#######################
# Server Configuration
#######################
NODE_ENV=production
PORT=3000
HOST=0.0.0.0

#######################
# API Keys
#######################
# OpenAI API Key
API_KEY_OPENAI=your-openai-api-key-here

# Anthropic API Key
API_KEY_ANTHROPIC=your-anthropic-api-key-here

#######################
# Database Configuration
#######################
# PostgreSQL Connection
DATABASE_URL=postgresql://username:password@host:5432/database_name
DB_HOST=your-postgres-host
DB_PORT=5432
DB_NAME=your-database-name
DB_USER=your-database-user
DB_PASSWORD=your-database-password
DB_SSL=true
DB_POOL_SIZE=20
DB_POOL_MIN=5
DB_POOL_MAX=50
DB_POOL_IDLE_TIMEOUT=10000

# Redis Connection
REDIS_URL=redis://:password@host:6379/0
REDIS_HOST=your-redis-host
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0
REDIS_CLUSTER_ENABLED=false
REDIS_SENTINEL_ENABLED=false
REDIS_TLS_ENABLED=true

#######################
# Authentication & Security
#######################
JWT_SECRET=your-jwt-secret-key-min-32-characters
JWT_EXPIRY=1h
JWT_REFRESH_EXPIRY=7d
JWT_ALGORITHM=HS256

# Encryption Key (32 bytes for AES-256)
ENCRYPTION_KEY=your-32-byte-encryption-key-here

# API Key Prefix
API_KEY_PREFIX=ak_prod_

# Session Configuration
SESSION_SECRET=your-session-secret-key
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=strict

#######################
# Blockchain Configuration
#######################
# Ethereum/Web3 Configuration
WEB3_PROVIDER_URL=https://mainnet.infura.io/v3/your-project-id
INFURA_PROJECT_ID=your-infura-project-id
ALCHEMY_API_KEY=your-alchemy-api-key
BLOCKCHAIN_NETWORK=mainnet
CHAIN_ID=1

# Backup RPC URLs
RPC_URL_PRIMARY=your-primary-rpc-url
RPC_URL_SECONDARY=your-secondary-rpc-url
RPC_URL_TERTIARY=your-tertiary-rpc-url

# Contract Addresses
QUDAG_TOKEN_ADDRESS=0x0000000000000000000000000000000000000000
USDC_TOKEN_ADDRESS=0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48
DAI_TOKEN_ADDRESS=0x6B175474E89094C44Da98b954EedeAC495271d0F
WBTC_TOKEN_ADDRESS=0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599

# Gas Configuration
GAS_PRICE_GWEI=30
GAS_LIMIT_DEFAULT=300000
MAX_FEE_PER_GAS_GWEI=100
MAX_PRIORITY_FEE_PER_GAS_GWEI=2

#######################
# CORS Configuration
#######################
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
CORS_CREDENTIALS=true

#######################
# Rate Limiting
#######################
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=2000
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false
RATE_LIMIT_SKIP_FAILED_REQUESTS=false

#######################
# Logging & Monitoring
#######################
LOG_LEVEL=info
LOG_FORMAT=json
LOG_TIMESTAMP=true
LOG_PRETTY_PRINT=false

# Monitoring Endpoints
METRICS_ENABLED=true
METRICS_PORT=9090
PROMETHEUS_ENDPOINT=/metrics
GRAFANA_URL=your-grafana-url
DATADOG_API_KEY=your-datadog-api-key
ELASTIC_APM_SERVER_URL=your-elastic-apm-url
ELASTIC_APM_SECRET_TOKEN=your-elastic-apm-token

# Logging Endpoints
LOG_AGGREGATOR_URL=your-log-aggregator-url
LOG_AGGREGATOR_TOKEN=your-log-aggregator-token

#######################
# Performance Configuration
#######################
TARGET_TPS=1000
MAX_REQUEST_SIZE=10mb
REQUEST_TIMEOUT=30000
GRACEFUL_SHUTDOWN_TIMEOUT=15000
KEEP_ALIVE_TIMEOUT=65000
HEADERS_TIMEOUT=60000

# Worker/Cluster Configuration
CLUSTER_WORKERS=auto
WORKER_MEMORY_LIMIT=512
MAX_CONNECTIONS=1000

#######################
# Cache Configuration
#######################
CACHE_ENABLED=true
CACHE_TTL=300
CACHE_MAX_SIZE=10000
CACHE_MAX_MEMORY=104857600
CACHE_CLEANUP_INTERVAL=300000
CACHE_REDIS_ENABLED=true

#######################
# Service Discovery
#######################
SERVICE_DISCOVERY_ENABLED=false
CONSUL_HOST=your-consul-host
CONSUL_PORT=8500
SERVICE_NAME=agentflow-api
SERVICE_ID=agentflow-api-production

#######################
# Health Check Configuration
#######################
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_RETRIES=3

#######################
# External Service URLs
#######################
# Microservices
AUTH_SERVICE_URL=https://auth.yourdomain.com
USER_SERVICE_URL=https://users.yourdomain.com
NOTIFICATION_SERVICE_URL=https://notifications.yourdomain.com
ANALYTICS_SERVICE_URL=https://analytics.yourdomain.com

# Third-party APIs
COINGECKO_API_URL=https://api.coingecko.com/api/v3
ETHERSCAN_API_URL=https://api.etherscan.io/api
ETHERSCAN_API_KEY=your-etherscan-api-key

#######################
# Feature Flags
#######################
FEATURE_FINANCIAL_MODULE=true
FEATURE_QUDAG_INTEGRATION=true
FEATURE_AGENT_COORDINATION=true
FEATURE_WORKFLOW_ENGINE=true
FEATURE_BLOCKCHAIN_INTEGRATION=true
FEATURE_ADVANCED_ANALYTICS=true

#######################
# Security Headers
#######################
SECURITY_HEADERS_ENABLED=true
HSTS_ENABLED=true
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true

#######################
# Backup & Recovery
#######################
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket
BACKUP_S3_REGION=us-east-1

#######################
# Deployment Information
#######################
DEPLOYMENT_ENV=production
DEPLOYMENT_REGION=us-east-1
DEPLOYMENT_ZONE=us-east-1a
CLUSTER_NAME=your-cluster-name
NAMESPACE=production